{"changed":true,"filter":false,"title":"server.js","tooltip":"/server.js","value":"// Socket.IO, Express, and Async.\nvar http = require('http');\nvar path = require('path');\nvar async = require('async');\nvar socketio = require('socket.io');\nvar express = require('express');\nvar fs = require('fs');\nvar request = require('request');\nvar cheerio = require('cheerio');\nvar tools   = require('./paintings');\nvar router = express();\nvar server = http.createServer(router);\nvar io = socketio.listen(server);\n// artist information, the lists are curretnly generated one at a time\nvar postImpressionists = 'post-impressionists.json';\n//var paul = 'Paul Cézanne';\n//var paulsUrl = 'http://en.wikipedia.org/wiki/List_of_paintings_by_Paul_C%C3%A9zanne';\n//var vincent = 'Vincent Van Gogh';\n//var vincentsUrl = 'http://en.wikipedia.org/wiki/List_of_works_by_Vincent_van_Gogh';\n//var monetsUrl = \"Claude Monet\";\n//var monet = 'http://en.wikipedia.org/wiki/List_of_works_by_Claude_Monet';\n//var manet = 'Édouard Manet';\n//var manetsUrl = 'http://en.wikipedia.org/wiki/List_of_paintings_by_%C3%89douard_Manet';\nvar renoirsUrl = 'http://en.wikipedia.org/wiki/List_of_paintings_by_Pierre-Auguste_Renoir';\nvar renoir = 'Pierre-Auguste Renoir';\nvar cassattsUrl = 'http://en.wikipedia.org/wiki/List_of_works_by_Mary_Cassatt';\nvar cassatt = 'Mary Cassatt';\n//var odilon = \"Odilon Redon\";\n//var odilonUrl = \"http://en.wikipedia.org/wiki/Odilon_Redon\";\n//var artist = paul;\n//var artist = vincent;\n//var gauguinsUrl = 'http://en.wikipedia.org/wiki/List_of_paintings_by_Paul_Gauguin';\nvar artistUrl =cassattsUrl;\nvar artist = cassatt; // the filename in the data dir will be the last name of the string set here\nvar sections = artist.split(' ');\nvar filename = sections[sections.length-1].toLowerCase(); // get the last name as file\nconsole.log('writing file for '+filename);\nrouter.use(express.static(path.resolve(__dirname, 'client')));\nvar messages = [];\nvar sockets = [];\n\nrouter.get('/scrape', \n\tfunction(req, res) {\n\t\trequest(artistUrl, function(error, response, html) {   \n\t\t    var addedCount = 0;\n\t\t    var fullCount = 0;\n\t\t\tif (!error) {\n\t\t\t\tconsole.log('scrapn '+filename);\n\t\t\t\tvar $ = cheerio.load(html);\n\t\t\t\tvar paintings = [];\n\t\t\t\tvar objectMark = 0;\n\t\t\t\tvar size;\n\t\t\t\t\tvar thumb;\n\t\t\t\t\tvar image;\n\t\t\t\t\tvar date;\n\t\t\t\t\tvar title;\n\t\t\t\t$('td').map(function(i, td) {\n\t\t\t\t\tfullCount++;\n\t\t\t\t\tvar painting = {}\n\t\t\t\t\t\n\t\t\t\t\ttd = $(td)\n\t\t\t\t\tvar text = td.text();\n\t\t\t\t\tswitch(objectMark) {\n\t\t\t\t\t    case 1:\n\t\t\t\t\t        painting.title = text;\n\t\t\t\t\t        title = text;\n\t\t\t\t\t        objectMark++;\n\t\t\t\t\t        break;\n\t\t\t\t\t    case 2:\n\t\t\t\t\t        painting.date = text;\n\t\t\t\t\t        date = text;\n\t\t\t\t\t        objectMark++;\n\t\t\t\t\t        break;\n\t\t\t\t\t    case 3:\n\t\t\t\t\t    \tpainting.size = text;\n\t\t\t\t\t    \tpainting.title = title;\n\t\t\t\t\t    \tpainting.date = date;\n\t\t\t\t\t    \tpainting.thumb = thumb;\n\t\t\t\t\t    \tpainting.image = image;\n\t\t\t\t\t    \tif (image == \"http://upload.wikimedia.org/wikipedia/commons\") {\n\t\t\t\t\t    \t\tconsole.log('size '+painting.size+' problem image! --------');\n\t\t\t\t\t    \t\tconsole.log('title '+painting.title);\n\t\t\t\t\t    \t\tconsole.log('date '+painting.date);\n\t\t\t\t\t    \t\tconsole.log('thumb '+painting.thumb);\n\t\t\t\t\t    \t\tconsole.log('image '+painting.image);\n\t\t\t\t\t    \t}\n\t\t\t\t\t    \tpaintings.push(painting);\n\t\t\t\t\t        objectMark++;\n\t\t\t\t\t    \tbreak;\n\t\t\t\t\t    case 4:\n\t\t\t\t\t        objectMark++;\n\t\t\t\t\t    case 5:\n\t\t\t\t\t        objectMark = 0;\n\t\t\t\t\t    \tbreak;\n\t\t\t\t\t    default:\n\t\t\t\t\t    \tbreak;\n\t\t\t\t\t}\t\n\t\t\t\t\tif (text == '' || text == undefined || text == null) {\n\t\t\t\t\t    addedCount++;\n\t\t\t\t\t\tpainting.thumb = td.children('a').children('img').attr('src');\n\t\t\t\t\t\tpainting.image = tools.getImage(painting.thumb);\n\t\t\t\t\t\tthumb = 'http:'+painting.thumb;\n\t\t\t\t\t\timage = painting.image;\n\t\t\t\t\t\tobjectMark++;\n\t\t\t\t\t}\n\t\t\t\t});\n\t  \t\t} else {\n\t\t\t\t  console.log('There was an error', error); \n\t      }\n\t        fs.writeFile('data/'+filename+'.json', JSON.stringify(paintings, null, 4), function(err) {\n\t        console.log('number of paintings :'+fullCount);\n\t        console.log('number added        :'+addedCount);\n        })\n        res.send(paintings);\n\t    });\n\t  }\n)\n\nrouter.get('/post-impressionists', function (request, response) {\n\tresponse.header(\"Access-Control-Allow-Origin\", \"*\");\n  response.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  response.setHeader('Content-Type', 'application/json');\n  var file = fs.readFileSync('data/post-impressionists.json');\n\tresponse.send(file);\n})\n\nrouter.get('/play', function (request, response) {\n\tresponse.header(\"Access-Control-Allow-Origin\", \"*\");\n\tresponse.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n\tresponse.setHeader('Content-Type', 'application/json');\n\tvar file = fs.readFileSync('data/post-impressionists.json');\n\tvar paintersObj = JSON.parse(file);\n\tvar painterChosen = Math.floor((Math.random() * paintersObj.length));\n\tvar painter = paintersObj[painterChosen].title;\n\tvar sections = painter.split(' ');\n\tvar filename = sections[sections.length-1].toLowerCase(); // get the last name as file\n\tvar paintingsFile = fs.readFileSync('data/'+filename+'.json');\n\tvar paintingsObj = JSON.parse(paintingsFile);\n\tvar paintingChosen = Math.floor((Math.random() * paintingsObj.length));\n\tvar painting = paintingsObj[paintingChosen].title;\n\tvar painters = [];\n\tfor (var i = 0; i < paintersObj.length; i++) {\n  \tvar painterName = {};\n  \tpainterName.title = paintersObj[i].title;\n  \tpainters.push(painterName);\n  }\n\tvar gameObj = [];\n\tgameObj.push(painters); // the list of all possible painters\n\tgameObj.push(paintersObj[painterChosen]); // the painter chose\n\tgameObj.push(paintingsObj[paintingChosen]); // the painting chosen\n  \tconsole.log('painter '+painterChosen+' painting '+paintingChosen);\n\tresponse.send(gameObj);\n})\n\n// Enable CORS\nrouter.use(function(req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  next();\n});\n\n// take a request for a particular painter\nrouter.get('/post-impressionist/:painter', function (request, response) {\n  response.header(\"Access-Control-Allow-Origin\", \"*\");\n  response.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  response.setHeader('Content-Type', 'application/json');\n  var painter = request.params.painter;\n  console.log('painter '+painter);\n  var file = fs.readFileSync('data/'+painter+'.json');\n  response.send(file);\n})\n\n// Chat Functions /////////////////////\nio.on('connection', function (socket) {\n    messages.forEach(function (data) {\n      socket.emit('message', data);\n    });\n    sockets.push(socket);\n    socket.on('disconnect', function () {\n      sockets.splice(sockets.indexOf(socket), 1);\n      updateRoster();\n    });\n    socket.on('message', function (msg) {\n      var text = String(msg || '');\n      if (!text)\n        return;\n\n      socket.get('name', function (err, name) {\n        var data = {\n          name: name,\n          text: text\n        };\n\n        broadcast('message', data);\n        messages.push(data);\n      });\n    });\n\n    socket.on('identify', function (name) {\n      socket.set('name', String(name || 'Anonymous'), function (err) {\n        updateRoster();\n      });\n    });\n  });\n\nfunction updateRoster() {\n  async.map(\n    sockets,\n    function (socket, callback) {\n      socket.get('name', callback);\n    },\n    function (err, names) {\n      broadcast('roster', names);\n    }\n  );\n}\n\nfunction broadcast(event, data) {\n  sockets.forEach(function (socket) {\n    socket.emit(event, data);\n  });\n}\n\nserver.listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function(){\n  var addr = server.address();\n  console.log(\"Chat server listening at\", addr.address + \":\" + addr.port);\n});\n","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":137,"column":60},"end":{"row":137,"column":61},"action":"insert","lines":["o"],"id":1207}],[{"start":{"row":137,"column":61},"end":{"row":137,"column":62},"action":"insert","lines":["s"],"id":1208}],[{"start":{"row":137,"column":62},"end":{"row":137,"column":63},"action":"insert","lines":["e"],"id":1209}],[{"start":{"row":138,"column":44},"end":{"row":138,"column":45},"action":"insert","lines":[" "],"id":1210}],[{"start":{"row":138,"column":45},"end":{"row":138,"column":46},"action":"insert","lines":["/"],"id":1211}],[{"start":{"row":138,"column":46},"end":{"row":138,"column":47},"action":"insert","lines":["/"],"id":1212}],[{"start":{"row":138,"column":47},"end":{"row":138,"column":48},"action":"insert","lines":[" "],"id":1213}],[{"start":{"row":138,"column":48},"end":{"row":138,"column":49},"action":"insert","lines":["t"],"id":1214}],[{"start":{"row":138,"column":49},"end":{"row":138,"column":50},"action":"insert","lines":["h"],"id":1215}],[{"start":{"row":138,"column":50},"end":{"row":138,"column":51},"action":"insert","lines":["e"],"id":1216}],[{"start":{"row":138,"column":51},"end":{"row":138,"column":52},"action":"insert","lines":[" "],"id":1217}],[{"start":{"row":138,"column":52},"end":{"row":138,"column":53},"action":"insert","lines":["p"],"id":1218}],[{"start":{"row":138,"column":53},"end":{"row":138,"column":54},"action":"insert","lines":["a"],"id":1219}],[{"start":{"row":138,"column":54},"end":{"row":138,"column":55},"action":"insert","lines":["i"],"id":1220}],[{"start":{"row":138,"column":55},"end":{"row":138,"column":56},"action":"insert","lines":["n"],"id":1221}],[{"start":{"row":138,"column":56},"end":{"row":138,"column":57},"action":"insert","lines":["t"],"id":1222}],[{"start":{"row":138,"column":57},"end":{"row":138,"column":58},"action":"insert","lines":["i"],"id":1223}],[{"start":{"row":138,"column":58},"end":{"row":138,"column":59},"action":"insert","lines":["n"],"id":1224}],[{"start":{"row":138,"column":59},"end":{"row":138,"column":60},"action":"insert","lines":["g"],"id":1225}],[{"start":{"row":138,"column":60},"end":{"row":138,"column":61},"action":"insert","lines":[" "],"id":1226}],[{"start":{"row":138,"column":61},"end":{"row":138,"column":62},"action":"insert","lines":["c"],"id":1227}],[{"start":{"row":138,"column":62},"end":{"row":138,"column":63},"action":"insert","lines":["h"],"id":1228}],[{"start":{"row":138,"column":63},"end":{"row":138,"column":64},"action":"insert","lines":["o"],"id":1229}],[{"start":{"row":138,"column":64},"end":{"row":138,"column":65},"action":"insert","lines":["s"],"id":1230}],[{"start":{"row":138,"column":65},"end":{"row":138,"column":66},"action":"insert","lines":["e"],"id":1231}],[{"start":{"row":138,"column":66},"end":{"row":138,"column":67},"action":"insert","lines":["n"],"id":1232}],[{"start":{"row":132,"column":48},"end":{"row":132,"column":49},"action":"insert","lines":["\\"],"id":1233}],[{"start":{"row":132,"column":48},"end":{"row":132,"column":49},"action":"remove","lines":["\\"],"id":1234}],[{"start":{"row":132,"column":48},"end":{"row":133,"column":0},"action":"insert","lines":["",""],"id":1235},{"start":{"row":133,"column":0},"end":{"row":133,"column":3},"action":"insert","lines":["  \t"]}],[{"start":{"row":133,"column":3},"end":{"row":133,"column":4},"action":"insert","lines":["v"],"id":1236}],[{"start":{"row":133,"column":4},"end":{"row":133,"column":5},"action":"insert","lines":["a"],"id":1237}],[{"start":{"row":133,"column":5},"end":{"row":133,"column":6},"action":"insert","lines":["r"],"id":1238}],[{"start":{"row":133,"column":6},"end":{"row":133,"column":7},"action":"insert","lines":[" "],"id":1239}],[{"start":{"row":133,"column":7},"end":{"row":133,"column":8},"action":"insert","lines":["p"],"id":1240}],[{"start":{"row":133,"column":8},"end":{"row":133,"column":9},"action":"insert","lines":["a"],"id":1241}],[{"start":{"row":133,"column":9},"end":{"row":133,"column":10},"action":"insert","lines":["i"],"id":1242}],[{"start":{"row":133,"column":10},"end":{"row":133,"column":11},"action":"insert","lines":["n"],"id":1243}],[{"start":{"row":133,"column":11},"end":{"row":133,"column":12},"action":"insert","lines":["t"],"id":1244}],[{"start":{"row":133,"column":12},"end":{"row":133,"column":13},"action":"insert","lines":["e"],"id":1245}],[{"start":{"row":133,"column":13},"end":{"row":133,"column":14},"action":"insert","lines":["r"],"id":1246}],[{"start":{"row":133,"column":14},"end":{"row":133,"column":15},"action":"insert","lines":[" "],"id":1247}],[{"start":{"row":133,"column":15},"end":{"row":133,"column":16},"action":"insert","lines":["="],"id":1248}],[{"start":{"row":133,"column":16},"end":{"row":133,"column":17},"action":"insert","lines":[" "],"id":1249}],[{"start":{"row":133,"column":16},"end":{"row":133,"column":17},"action":"remove","lines":[" "],"id":1250}],[{"start":{"row":133,"column":15},"end":{"row":133,"column":16},"action":"remove","lines":["="],"id":1251}],[{"start":{"row":133,"column":14},"end":{"row":133,"column":15},"action":"remove","lines":[" "],"id":1252}],[{"start":{"row":133,"column":14},"end":{"row":133,"column":15},"action":"insert","lines":[" "],"id":1253}],[{"start":{"row":133,"column":15},"end":{"row":133,"column":16},"action":"insert","lines":["="],"id":1254}],[{"start":{"row":133,"column":16},"end":{"row":133,"column":17},"action":"insert","lines":[" "],"id":1255}],[{"start":{"row":17,"column":0},"end":{"row":17,"column":2},"action":"insert","lines":["//"],"id":1307,"ignore":true},{"start":{"row":18,"column":0},"end":{"row":18,"column":2},"action":"insert","lines":["//"]},{"start":{"row":19,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["//var monetsUrl = \"Claude Monet\";","//var monet = 'http://en.wikipedia.org/wiki/List_of_works_by_Claude_Monet';","//var manet = 'Édouard Manet';","//var manetsUrl = 'http://en.wikipedia.org/wiki/List_of_paintings_by_%C3%89douard_Manet';","var renoirsUrl = 'http://en.wikipedia.org/wiki/List_of_paintings_by_Pierre-Auguste_Renoir';","var renoir = 'Pierre-Auguste Renoir';","var cassattsUrl = 'http://en.wikipedia.org/wiki/List_of_works_by_Mary_Cassatt';","var cassatt = 'Mary Cassatt';",""]},{"start":{"row":32,"column":15},"end":{"row":32,"column":22},"action":"remove","lines":[" vincen"]},{"start":{"row":32,"column":15},"end":{"row":32,"column":21},"action":"insert","lines":["cassat"]},{"start":{"row":33,"column":13},"end":{"row":33,"column":19},"action":"remove","lines":["vincen"]},{"start":{"row":33,"column":13},"end":{"row":33,"column":19},"action":"insert","lines":["cassat"]},{"start":{"row":47,"column":0},"end":{"row":48,"column":0},"action":"insert","lines":["\t\t\t\tconsole.log('scrapn '+filename);",""]},{"start":{"row":107,"column":38},"end":{"row":107,"column":45},"action":"insert","lines":[", error"]},{"start":{"row":128,"column":0},"end":{"row":128,"column":1},"action":"remove","lines":[" "]},{"start":{"row":128,"column":0},"end":{"row":128,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":129,"column":0},"end":{"row":129,"column":2},"action":"remove","lines":["  "]},{"start":{"row":129,"column":0},"end":{"row":129,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":130,"column":0},"end":{"row":130,"column":2},"action":"remove","lines":["  "]},{"start":{"row":130,"column":0},"end":{"row":130,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":131,"column":0},"end":{"row":131,"column":2},"action":"remove","lines":["  "]},{"start":{"row":131,"column":0},"end":{"row":131,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":132,"column":0},"end":{"row":132,"column":2},"action":"remove","lines":["  "]},{"start":{"row":132,"column":0},"end":{"row":132,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":133,"column":0},"end":{"row":133,"column":2},"action":"remove","lines":["  "]},{"start":{"row":133,"column":0},"end":{"row":133,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":134,"column":0},"end":{"row":134,"column":2},"action":"remove","lines":["  "]},{"start":{"row":134,"column":0},"end":{"row":134,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":135,"column":0},"end":{"row":135,"column":2},"action":"remove","lines":["  "]},{"start":{"row":135,"column":0},"end":{"row":135,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":136,"column":0},"end":{"row":136,"column":2},"action":"remove","lines":["  "]},{"start":{"row":136,"column":0},"end":{"row":136,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":137,"column":0},"end":{"row":137,"column":2},"action":"remove","lines":["  "]},{"start":{"row":137,"column":0},"end":{"row":137,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":138,"column":0},"end":{"row":138,"column":2},"action":"remove","lines":["  "]},{"start":{"row":138,"column":0},"end":{"row":138,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":139,"column":0},"end":{"row":139,"column":2},"action":"remove","lines":["  "]},{"start":{"row":139,"column":0},"end":{"row":139,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":140,"column":0},"end":{"row":140,"column":2},"action":"remove","lines":["  "]},{"start":{"row":140,"column":0},"end":{"row":140,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":141,"column":0},"end":{"row":141,"column":2},"action":"remove","lines":["  "]},{"start":{"row":141,"column":0},"end":{"row":141,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":149,"column":2},"end":{"row":149,"column":3},"action":"insert","lines":["\t"]}],[{"start":{"row":142,"column":17},"end":{"row":142,"column":19},"action":"insert","lines":["[]"],"id":1307}],[{"start":{"row":142,"column":19},"end":{"row":142,"column":20},"action":"insert","lines":[";"],"id":1308}],[{"start":{"row":142,"column":20},"end":{"row":143,"column":0},"action":"insert","lines":["",""],"id":1309},{"start":{"row":143,"column":0},"end":{"row":143,"column":3},"action":"insert","lines":["  \t"]}],[{"start":{"row":143,"column":3},"end":{"row":143,"column":4},"action":"insert","lines":["p"],"id":1310}],[{"start":{"row":143,"column":4},"end":{"row":143,"column":5},"action":"insert","lines":["a"],"id":1311}],[{"start":{"row":143,"column":5},"end":{"row":143,"column":6},"action":"insert","lines":["i"],"id":1312}],[{"start":{"row":143,"column":6},"end":{"row":143,"column":7},"action":"insert","lines":["n"],"id":1313}],[{"start":{"row":143,"column":7},"end":{"row":143,"column":8},"action":"insert","lines":["t"],"id":1314}],[{"start":{"row":143,"column":8},"end":{"row":143,"column":9},"action":"insert","lines":["e"],"id":1315}],[{"start":{"row":143,"column":9},"end":{"row":143,"column":10},"action":"insert","lines":["r"],"id":1316}],[{"start":{"row":143,"column":10},"end":{"row":143,"column":11},"action":"insert","lines":["."],"id":1317}],[{"start":{"row":143,"column":11},"end":{"row":143,"column":12},"action":"insert","lines":["t"],"id":1318}],[{"start":{"row":143,"column":12},"end":{"row":143,"column":13},"action":"insert","lines":["i"],"id":1319},{"start":{"row":143,"column":13},"end":{"row":143,"column":14},"action":"insert","lines":["t"]}],[{"start":{"row":143,"column":14},"end":{"row":143,"column":15},"action":"insert","lines":["l"],"id":1320}],[{"start":{"row":143,"column":15},"end":{"row":143,"column":16},"action":"insert","lines":["e"],"id":1321}],[{"start":{"row":143,"column":16},"end":{"row":143,"column":17},"action":"insert","lines":[" "],"id":1322}],[{"start":{"row":143,"column":17},"end":{"row":143,"column":18},"action":"insert","lines":["="],"id":1323}],[{"start":{"row":143,"column":18},"end":{"row":143,"column":19},"action":"insert","lines":[" "],"id":1324}],[{"start":{"row":143,"column":19},"end":{"row":143,"column":39},"action":"insert","lines":["paintersObj[i].title"],"id":1325}],[{"start":{"row":143,"column":39},"end":{"row":143,"column":40},"action":"insert","lines":[";"],"id":1326}],[{"start":{"row":144,"column":17},"end":{"row":144,"column":37},"action":"remove","lines":["paintersObj[i].title"],"id":1327},{"start":{"row":144,"column":17},"end":{"row":144,"column":18},"action":"insert","lines":["p"]}],[{"start":{"row":144,"column":18},"end":{"row":144,"column":19},"action":"insert","lines":["a"],"id":1328}],[{"start":{"row":144,"column":19},"end":{"row":144,"column":20},"action":"insert","lines":["i"],"id":1329}],[{"start":{"row":144,"column":20},"end":{"row":144,"column":21},"action":"insert","lines":["n"],"id":1330}],[{"start":{"row":144,"column":21},"end":{"row":144,"column":22},"action":"insert","lines":["t"],"id":1331}],[{"start":{"row":144,"column":22},"end":{"row":144,"column":23},"action":"insert","lines":["e"],"id":1332}],[{"start":{"row":144,"column":23},"end":{"row":144,"column":24},"action":"insert","lines":["r"],"id":1333}],[{"start":{"row":142,"column":14},"end":{"row":142,"column":15},"action":"insert","lines":["N"],"id":1334}],[{"start":{"row":142,"column":15},"end":{"row":142,"column":16},"action":"insert","lines":["a"],"id":1335}],[{"start":{"row":142,"column":16},"end":{"row":142,"column":17},"action":"insert","lines":["m"],"id":1336}],[{"start":{"row":142,"column":17},"end":{"row":142,"column":18},"action":"insert","lines":["e"],"id":1337}],[{"start":{"row":143,"column":10},"end":{"row":143,"column":11},"action":"insert","lines":["n"],"id":1338}],[{"start":{"row":143,"column":11},"end":{"row":143,"column":12},"action":"insert","lines":["a"],"id":1339}],[{"start":{"row":143,"column":12},"end":{"row":143,"column":13},"action":"insert","lines":["m"],"id":1340}],[{"start":{"row":143,"column":13},"end":{"row":143,"column":14},"action":"insert","lines":["e"],"id":1341}],[{"start":{"row":143,"column":13},"end":{"row":143,"column":14},"action":"remove","lines":["e"],"id":1342}],[{"start":{"row":143,"column":12},"end":{"row":143,"column":13},"action":"remove","lines":["m"],"id":1343}],[{"start":{"row":143,"column":11},"end":{"row":143,"column":12},"action":"remove","lines":["a"],"id":1344}],[{"start":{"row":143,"column":10},"end":{"row":143,"column":11},"action":"remove","lines":["n"],"id":1345}],[{"start":{"row":143,"column":10},"end":{"row":143,"column":11},"action":"insert","lines":["N"],"id":1346}],[{"start":{"row":143,"column":11},"end":{"row":143,"column":12},"action":"insert","lines":["a"],"id":1347}],[{"start":{"row":143,"column":12},"end":{"row":143,"column":13},"action":"insert","lines":["m"],"id":1348}],[{"start":{"row":143,"column":13},"end":{"row":143,"column":14},"action":"insert","lines":["e"],"id":1349}],[{"start":{"row":144,"column":24},"end":{"row":144,"column":25},"action":"insert","lines":["N"],"id":1350}],[{"start":{"row":144,"column":25},"end":{"row":144,"column":26},"action":"insert","lines":["a"],"id":1351}],[{"start":{"row":144,"column":26},"end":{"row":144,"column":27},"action":"insert","lines":["m"],"id":1352}],[{"start":{"row":144,"column":27},"end":{"row":144,"column":28},"action":"insert","lines":["e"],"id":1353}],[{"start":{"row":142,"column":21},"end":{"row":142,"column":23},"action":"remove","lines":["[]"],"id":1354},{"start":{"row":142,"column":21},"end":{"row":142,"column":25},"action":"insert","lines":["{[]}"]}],[{"start":{"row":142,"column":22},"end":{"row":142,"column":24},"action":"remove","lines":["[]"],"id":1355},{"start":{"row":142,"column":22},"end":{"row":142,"column":23},"action":"insert","lines":["}"]}],[{"start":{"row":142,"column":23},"end":{"row":142,"column":24},"action":"remove","lines":["}"],"id":1356}],[{"start":{"row":128,"column":1},"end":{"row":128,"column":2},"action":"remove","lines":[" "],"id":1357}],[{"start":{"row":161,"column":39},"end":{"row":161,"column":40},"action":"insert","lines":["r"],"id":1358}],[{"start":{"row":161,"column":38},"end":{"row":161,"column":39},"action":"insert","lines":["e"],"id":1359}],[{"start":{"row":161,"column":37},"end":{"row":161,"column":38},"action":"insert","lines":["y"],"id":1360}],[{"start":{"row":161,"column":36},"end":{"row":161,"column":37},"action":"insert","lines":["u"],"id":1361}],[{"start":{"row":161,"column":35},"end":{"row":161,"column":42},"action":"remove","lines":["painter"],"id":1362},{"start":{"row":161,"column":35},"end":{"row":161,"column":36},"action":"insert","lines":["b"]}]]},"ace":{"folds":[],"scrolltop":2828,"scrollleft":0,"selection":{"start":{"row":162,"column":60},"end":{"row":162,"column":60},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":175,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1434601678000}