{"filter":false,"title":"paintings.js","tooltip":"/paintings.js","undoManager":{"mark":19,"position":19,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":32,"column":1},"action":"insert","lines":["var cheerio = require('cheerio');","module.exports = {","","\tgetPainting: function(i, element, img) {","\t\t//console.log('i '+i);","\t\tvar url = img.attr('src');","\t\tif ((url.indexOf('//upload') != -1) && (url.indexOf('.jpg') != -1)) {","\t\t\tconsole.log(i+' http:'+url);","\t\t\tvar title = img.attr('alt');","\t\t\tvar vincent = 'Vincent van Gogh - ';","\t\t\tvar loc = title.indexOf(vincent);","\t\t\tif (loc != -1) {","\t\t\t\ttitle = title.slice(loc+vincent.length,title.length);","\t\t\t}","\t\t\tvar jpg = title.indexOf('.jpg');","\t\t\tif (jpg != -1) {","\t\t\t\ttitle = title.slice(0,jpg)","\t\t\t}","\t\t\tvar bracket = title.indexOf('(');","\t\t\tif (bracket != -1) {","\t\t\t\ttitle = title.slice(0,bracket)","\t\t\t}","\t\t\ttitle = title.replace(/[_0-9]+$/, '');","\t\t\tconsole.log(i+' title '+title);","\t\t\tvar date = img.parent().next().next().first().text();","\t\t\tconsole.log(i+' date '+date);","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;","\t\t}","\t\treturn painting;","\t}","}"]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":30},"end":{"row":29,"column":0},"action":"insert","lines":["",""]},{"start":{"row":29,"column":0},"end":{"row":29,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":3},"end":{"row":37,"column":32},"action":"insert","lines":["// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tconsole.log('base '+base);","\t\t\tconsole.log('name '+name);","\t\t\tvar largUrl = 'http:'+base+name;","\t\t\tpainting.largeUrl = largeUrl;"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":3},"end":{"row":37,"column":32},"action":"remove","lines":["var date = img.parent().next().next().first().text();","\t\t\tconsole.log(i+' date '+date);","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tconsole.log('base '+base);","\t\t\tconsole.log('name '+name);","\t\t\tvar largUrl = 'http:'+base+name;","\t\t\tpainting.largeUrl = largeUrl;"]},{"start":{"row":24,"column":3},"end":{"row":36,"column":30},"action":"insert","lines":["var date = img.parent().next().next().first().text();","\t\t\t//console.log(i+' date '+date);","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tvar largUrl = 'http:'+base+name;","\t\t\tconsole.log('largUrl '+largUrl);","\t\t\tpainting.largeUrl = largeUrl;","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":3},"end":{"row":33,"column":32},"action":"remove","lines":["painting.largeUrl = largeUrl;"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":2},"end":{"row":33,"column":3},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":1},"end":{"row":33,"column":2},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":35},"end":{"row":33,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":30},"end":{"row":36,"column":0},"action":"insert","lines":["",""]},{"start":{"row":36,"column":0},"end":{"row":36,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":3},"end":{"row":36,"column":32},"action":"insert","lines":["painting.largeUrl = largeUrl;"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":11},"end":{"row":31,"column":12},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":30},"end":{"row":32,"column":31},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":20},"end":{"row":32,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":40,"column":1},"action":"remove","lines":["var cheerio = require('cheerio');","module.exports = {","","\tgetPainting: function(i, element, img) {","\t\t//console.log('i '+i);","\t\tvar url = img.attr('src');","\t\tif ((url.indexOf('//upload') != -1) && (url.indexOf('.jpg') != -1)) {","\t\t\tconsole.log(i+' http:'+url);","\t\t\tvar title = img.attr('alt');","\t\t\tvar vincent = 'Vincent van Gogh - ';","\t\t\tvar loc = title.indexOf(vincent);","\t\t\tif (loc != -1) {","\t\t\t\ttitle = title.slice(loc+vincent.length,title.length);","\t\t\t}","\t\t\tvar jpg = title.indexOf('.jpg');","\t\t\tif (jpg != -1) {","\t\t\t\ttitle = title.slice(0,jpg)","\t\t\t}","\t\t\tvar bracket = title.indexOf('(');","\t\t\tif (bracket != -1) {","\t\t\t\ttitle = title.slice(0,bracket)","\t\t\t}","\t\t\ttitle = title.replace(/[_0-9]+$/, '');","\t\t\tconsole.log(i+' title '+title);","\t\t\tvar date = img.parent().next().next().first().text();","\t\t\t//console.log(i+' date '+date);","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tvar largeUrl = 'http:'+base+name;","\t\t\tconsole.log('largeUrl '+largeUrl);","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;","\t\t\tpainting.largeUrl = largeUrl;","\t\t}","\t\treturn painting;","\t}","}"]},{"start":{"row":0,"column":0},"end":{"row":40,"column":1},"action":"insert","lines":["var cheerio = require('cheerio');","module.exports = {","","\tgetPainting: function(i, element, img) {","\t\t//console.log('i '+i);","\t\tvar url = img.attr('src');","\t\tif ((url.indexOf('//upload') != -1) && (url.indexOf('.jpg') != -1)) {","\t\t\t//console.log(i+' http:'+url);","\t\t\tvar title = img.attr('alt');","\t\t\tvar vincent = 'Vincent van Gogh - ';","\t\t\tvar loc = title.indexOf(vincent);","\t\t\tif (loc != -1) {","\t\t\t\ttitle = title.slice(loc+vincent.length,title.length);","\t\t\t}","\t\t\tvar jpg = title.indexOf('.jpg');","\t\t\tif (jpg != -1) {","\t\t\t\ttitle = title.slice(0,jpg)","\t\t\t}","\t\t\tvar bracket = title.indexOf('(');","\t\t\tif (bracket != -1) {","\t\t\t\ttitle = title.slice(0,bracket)","\t\t\t}","\t\t\ttitle = title.replace(/[_0-9]+$/, '');","\t\t\t//console.log(i+' title '+title);","\t\t\tvar date = img.parent().next().next().first().text();","\t\t\t//console.log(i+' date '+date);","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tvar largeUrl = 'http:'+base+name;","\t\t\tconsole.log('largeUrl '+largeUrl);","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;","\t\t\tpainting.largeUrl = largeUrl;","\t\t}","\t\treturn painting;","\t}","}"]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":40},"end":{"row":29,"column":0},"action":"insert","lines":["",""]},{"start":{"row":29,"column":0},"end":{"row":29,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":3},"end":{"row":31,"column":4},"action":"insert","lines":["if (separ == -1) {","\t\t\t\tsepar = url.indexOf('/220px-');","\t\t\t}"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":4},"end":{"row":32,"column":0},"action":"insert","lines":["",""]},{"start":{"row":32,"column":0},"end":{"row":32,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":3},"end":{"row":34,"column":4},"action":"insert","lines":["if (separ == -1) {","\t\t\t\tsepar = url.indexOf('/80px-');","\t\t\t}"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":46,"column":1},"action":"remove","lines":["var cheerio = require('cheerio');","module.exports = {","","\tgetPainting: function(i, element, img) {","\t\t//console.log('i '+i);","\t\tvar url = img.attr('src');","\t\tif ((url.indexOf('//upload') != -1) && (url.indexOf('.jpg') != -1)) {","\t\t\t//console.log(i+' http:'+url);","\t\t\tvar title = img.attr('alt');","\t\t\tvar vincent = 'Vincent van Gogh - ';","\t\t\tvar loc = title.indexOf(vincent);","\t\t\tif (loc != -1) {","\t\t\t\ttitle = title.slice(loc+vincent.length,title.length);","\t\t\t}","\t\t\tvar jpg = title.indexOf('.jpg');","\t\t\tif (jpg != -1) {","\t\t\t\ttitle = title.slice(0,jpg)","\t\t\t}","\t\t\tvar bracket = title.indexOf('(');","\t\t\tif (bracket != -1) {","\t\t\t\ttitle = title.slice(0,bracket)","\t\t\t}","\t\t\ttitle = title.replace(/[_0-9]+$/, '');","\t\t\t//console.log(i+' title '+title);","\t\t\tvar date = img.parent().next().next().first().text();","\t\t\t//console.log(i+' date '+date);","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tif (separ == -1) {","\t\t\t\tsepar = url.indexOf('/220px-');","\t\t\t}","\t\t\tif (separ == -1) {","\t\t\t\tsepar = url.indexOf('/80px-');","\t\t\t}","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tvar largeUrl = 'http:'+base+name;","\t\t\tconsole.log('largeUrl '+largeUrl);","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;","\t\t\tpainting.largeUrl = largeUrl;","\t\t}","\t\treturn painting;","\t}","}"]},{"start":{"row":0,"column":0},"end":{"row":58,"column":1},"action":"insert","lines":["var cheerio = require('cheerio');","module.exports = {","","\tgetPainting: function(i, element, img) {","\t\t//console.log('i '+i);","\t\tvar url = img.attr('src');","\t\tif ((url.indexOf('//upload') != -1) && (url.indexOf('.jpg') != -1)) {","\t\t\tvar title = img.attr('alt');","\t\t\tvar vincent = 'Vincent van Gogh - ';","\t\t\tvar loc = title.indexOf(vincent);","\t\t\tif (loc != -1) {","\t\t\t\ttitle = title.slice(loc+vincent.length,title.length);","\t\t\t}","\t\t\tvar jpg = title.indexOf('.jpg');","\t\t\tif (jpg != -1) {","\t\t\t\ttitle = title.slice(0,jpg)","\t\t\t}","\t\t\tvar bracket = title.indexOf('(');","\t\t\tif (bracket != -1) {","\t\t\t\ttitle = title.slice(0,bracket)","\t\t\t}","\t\t\ttitle = title.replace(/[_0-9]+$/, '');","\t\t\tvar date = img.parent().next().next().first().text();","\t\t\t","\t\t\t//console.log(i+' date '+date);","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar separ   = url.indexOf('/100px-');","\t\t\tif (separ == -1) {","\t\t\t\tsepar = url.indexOf('/220px-');","\t\t\t}","\t\t\tif (separ == -1) {","\t\t\t\tsepar = url.indexOf('/80px-');","\t\t\t}","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(thumb+6,separ);","\t\t\tvar largeUrl = 'http:'+base+name;","\t\t\t//console.log('largeUrl '+largeUrl);","\t\t\tvar painting = {}","\t\t\tpainting.title = title;","\t\t\tpainting.url = 'http:'+url;","\t\t\tpainting.largeUrl = largeUrl;","\t\t}","\t\treturn painting;","\t},","\tgetImage: function(url) {","\t\tif (url) {","\t\t\t// get Large Url","\t\t\tvar thumb = url.indexOf('/thumb/');","\t\t\tvar base = url.slice(0, thumb);","\t\t\tvar name = url.slice(url.indexOf('/thumb/')+6,url.indexOf('.jpg')+4);","\t\t\tconsole.log('length '+url.length);","\t\t\tconsole.log('base:'+base);","\t\t\tconsole.log('name:'+name);","\t\t\tvar image = 'http:'+base+name;","\t\t}","\t\treturn image;","\t}","}"]}]}]]},"ace":{"folds":[],"scrolltop":534,"scrollleft":0,"selection":{"start":{"row":19,"column":2},"end":{"row":19,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1430644045800,"hash":"fc800308dfa108ed56f97297e255be45372a3ece"}